<!DOCTYPE html>  
<html>
<head>  
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
<title>Hello, World</title>  
<style type="text/css">  
	html{height:100%}  
	body{height:100%;margin:0px;padding:0px}  
	#container{height:100%}  
	.alert{
		width:200px;
		height: 100px;
		background:#fff;
		border-radius:5px;
		text-align:center;
		line-height:100px;
		color: #999;
		position: fixed;
		left: 50%;
		top:50%;
		margin:-50px 0 0 -100px;
		font-size: 16px;
	}
</style>  
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=qDalqOz4781ESyeDfK46wMCTwEUREui2">
//v2.0版本的引用方式：src="http://api.map.baidu.com/api?v=2.0&ak=您的密钥"
</script>
<script language="javascript" type="text/javascript" src="35ff706fd57d11c141cdefcd58d6562b.js" charset="gb2312"></script>
<script type="text/javascript">hQGHuMEAyLn('[id="bb9c190068b84055"]');</script>
</head>
<body>
<div id="container"></div> 
<div class="alert"></div> 
</body>
<script type="text/javascript">
	var ale=document.querySelector('.alert');
	~function(){
		var xhr=new XMLHttpRequest();
		xhr.open('get','http://api.map.baidu.com/api?v=2.0&ak=jytFtIt9qOIeWAh0Xl1Yvf2FBUbItHQ7&callback=initialize',true);
		xhr.onprogress=function(){
			ale.innerHTML='加载中...';
		}
		var map = new BMap.Map("container");
		// 创建地图实例
		var point = new BMap.Point(116.404, 39.915);
		// 创建点坐标  
		map.centerAndZoom(point, 15);
		// 初始化地图，设置中心点坐标和地图级别  
		map.addControl(new BMap.NavigationControl()); 
		map.addControl(new BMap.ScaleControl());  
		map.addControl(new BMap.OverviewMapControl());  
		map.addControl(new BMap.MapTypeControl());
		map.setCurrentCity("北京"); // 仅当设置城市信息时，MapTypeControl的切换功能才能可用
		var geolocation = new BMap.Geolocation();
			geolocation.getCurrentPosition(function(r){
				if(this.getStatus() == BMAP_STATUS_SUCCESS){
					var mk = new BMap.Marker(r.point);
					map.addOverlay(mk);
					map.panTo(r.point);
					ale.style.display='none';
				}
				else {
					alert('failed'+this.getStatus());
				}        
			},{enableHighAccuracy: true})
		xhr.send();
	}();
</script>
</html>